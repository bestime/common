(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["water-fall"],{1340:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eg-water-fall-wrapper"},[a("example",{attrs:{title:"瀑布流"}},[a("eg01",{attrs:{slot:"demo"},slot:"demo"}),a("code-view",{attrs:{slot:"code",type:"html",content:t.demoCode},slot:"code"})],1),a("h2",{staticClass:"apititle"},[t._v("waterfall-wrapper 参数")]),a("el-table",{attrs:{data:t.apiList,border:""}},[a("el-table-column",{attrs:{prop:"key",width:"150px",label:"参数"}}),a("el-table-column",{attrs:{prop:"type",width:"80px",label:"类型"}}),a("el-table-column",{attrs:{prop:"desc",label:"描述"}})],1)],1)},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("waterfall-wrapper",{attrs:{spaceVertical:5,spaceHorizontal:5}},t._l(t.list,(function(e,l){return a("waterfall-item",{key:e.id,attrs:{index:l}},[a("div",{staticClass:"flex_column_center_center wat-pier",style:{height:e.height+"px"}},[a("span",{staticClass:"cid"},[t._v(t._s(e.id))]),a("span",{staticClass:"cheight"},[t._v("高"+t._s(e.height))])])])})),1)},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"wrapper",staticClass:"vbt-water-fall",style:{height:t.height+"px"}},[t._t("default")],2)},o=[],c=(a("ac6a"),a("55dd"),a("c5f6"),a("8d90")),p=a("99af"),m=a("570a"),u=a("e437");function f(t){if(Object(u["a"])(t)&&Object(p["a"])(t.handle)){var e,a=t.handle,l=Object(m["a"])(t.delay),r=!0===t.isFirstWork,n=!0===t.isLastWork,i=+new Date,s=0;return function(){var o=+new Date;r||o-i>l?(r=!1,i=o,a.apply(this,arguments)):(s=l+i-o,s>0&&Object(p["a"])(t.onFast)&&t.onFast.apply(this,[s])),n&&(clearTimeout(e),e=setTimeout((function(){a.apply(this,arguments)}),l))}}}var d=f,h={name:"waterfall-wrapper",props:{spaceVertical:{type:Number,default:10},spaceHorizontal:{type:Number,default:10}},data:function(){return{timer:null,height:0,maxWidth:0,childNumber:0}},beforeDestroy:function(){clearInterval(this.timer)},methods:{getWidth:function(){try{return this.$refs.wrapper.offsetWidth}catch(t){return 0}},getHeight:function(){try{return this.$refs.wrapper.offsetHeight}catch(t){return 0}},onChildUpdate:function(){var t,e,a,l,r,n,i,s,o,p=this;this.THFUNC||(this.THFUNC=d({handle:function(){var m=Object(c["b"])(p,"waterfall-item");if(m.length){m.sort((function(t,e){return t.index>e.index?1:-1})),clearInterval(p.timer);var u=!1;p.timer=setInterval((function(){m=Object(c["b"])(p,"waterfall-item"),m.sort((function(t,e){return t.$el.offsetHeight!==t.tempHeight&&(t.tempHeight=t.$el.offsetHeight,u=!0),t.index>e.index?1:-1})),t=p.getWidth(),(u||p.childNumber!==m.length||t!==p.maxWidth)&&(p.childNumber=m.length,p.maxWidth=t,p.onChildUpdate())}),100);try{i=m[0].$refs.el.offsetWidth}catch(f){return}o={},l=0,r=0,t=p.getWidth(),e=Math.floor((t-p.spaceHorizontal)/(i+p.spaceHorizontal)),a=t-p.spaceHorizontal>i+p.spaceHorizontal?(t-p.spaceHorizontal)%(i+p.spaceHorizontal)/2:0,1===m.length&&(a=0),m.forEach((function(t,c){if(c<e)l=c,r=p.spaceVertical;else{var m=x(o);l=m.index,r=m.num+p.spaceVertical}s=t.$refs.el.offsetHeight,o[l]=r+s,n=a+p.spaceHorizontal+(i+p.spaceHorizontal)*l++,t.updatePos(n,r)})),p.height=x(o).max+p.spaceVertical,p.$emit("on-update")}},delay:300,isFirstWork:!0,isLastWork:!0}));this.THFUNC()}}};function x(t){var e,a,l,r=0;for(var n in t)"undefined"===typeof l&&(l=n),a=Object(m["a"])(t[n]),("undefined"===typeof e||a<e)&&(e=a,l=n),a>r&&(r=a);return{index:Object(m["a"])(l),num:e,max:r}}var v=h,g=(a("4b8b"),a("2877")),b=Object(g["a"])(v,s,o,!1,null,null,null),y=b.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"el",staticClass:"waterfall-item",style:t.pos},[t._t("default")],2)},_=[],C="waterfall-item",j={name:C,props:{index:Number},data:function(){return{father:Object(c["a"])(this,"waterfall-wrapper"),top:0,left:0,tempHeight:0}},computed:{pos:function(){return{left:"".concat(this.left,"px"),top:"".concat(this.top,"px")}}},mounted:function(){var t=this;this.$nextTick((function(){t.father&&t.father.onChildUpdate()}))},methods:{updatePos:function(t,e){this.left=t,this.top=e}}},H=j,k=(a("867f"),Object(g["a"])(H,w,_,!1,null,null,null)),z=k.exports,O=a("457b"),W={components:{"waterfall-wrapper":y,"waterfall-item":z},data:function(){return{list:this.getExampleData(100)}},methods:{getExampleData:function(t){for(var e=[],a=0;a<t;a++)e.push({id:"".concat(a+1),height:Object(O["a"])(80,300)});return e}}},$=W,E=(a("ef6e"),Object(g["a"])($,n,i,!1,null,null,null)),F=E.exports,T={components:{eg01:F},data:function(){return{apiList:N(),demoCode:ns.trim(D())}}};function N(){return[{key:"spaceVertical",type:"Number",desc:"垂直间距"},{key:"spaceHorizontal",type:"Number",desc:"水平间距"}]}function D(){return'\n// 由于context.$children 不是按顺序获取的 waterfall-item \n<style lang="stylus" rel="stylesheet/stylus">\n.wat-pier\n  width 100px\n  background #eee\n  color #666\n  .cid\n    font-size 16px\n    color #999\n  .cheight\n    background #348ddf\n    padding 3px 10px\n    font-size 12px\n    color #fff\n    border-radius 4px\n    margin-top 2px\n  .apititle\n    font-size 14px\n    font-weight bold\n    color #595959\n    padding 0\n    margin 20px 0 10px 0\n</style>\n\n<template>\n  <waterfall-wrapper :spaceVertical="5" :spaceHorizontal="5">\n    <waterfall-item v-for="item in list" :key="item.id">\n      <div class="flex_column_center_center wat-pier" :style="{height: '.concat("`${item.height}px`","}\">\n        <span class=\"cid\">{{ item.id }}</span>\n        <span class=\"cheight\">高{{ item.height }}</span>\n      </div>\n    </waterfall-item>\n  </waterfall-wrapper>\n</template>\n\n<script>\nimport WaterFall from 'jcy-common/vue/waterfall'\nimport WaterFallItem from 'jcy-common/vue/waterfall-item'\nimport getRandom from 'jcy-common/js/split/getRandom'\nexport default {\n  components: {\n    'waterfall-wrapper': WaterFall,\n    'waterfall-item': WaterFallItem\n  },\n  data () {\n    return {\n      list: this.getExampleData(100),\n    }\n  },\n  methods: {\n    getExampleData (num) {\n      let res = []\n      for(let a=0; a<num; a++) {\n        res.push({\n          id: ","`${a+1}`",",\n          height: getRandom(80, 300)\n        })\n      }\n      return res\n    }\n  }\n}\n<\/script>\n  ")}var L=T,I=(a("d00f"),Object(g["a"])(L,l,r,!1,null,null,null));e["default"]=I.exports},"16da":function(t,e,a){},"2a43":function(t,e,a){},"2f21":function(t,e,a){"use strict";var l=a("79e5");t.exports=function(t,e){return!!t&&l((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"457b":function(t,e,a){"use strict";function l(t,e,a){return a=!1===a?0:1,t=Math.random()*(e-t+a)+t,a?Math.floor(t):t}e["a"]=l},"4b8b":function(t,e,a){"use strict";var l=a("7317"),r=a.n(l);r.a},"55dd":function(t,e,a){"use strict";var l=a("5ca1"),r=a("d8e8"),n=a("4bf8"),i=a("79e5"),s=[].sort,o=[1,2,3];l(l.P+l.F*(i((function(){o.sort(void 0)}))||!i((function(){o.sort(null)}))||!a("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(n(this)):s.call(n(this),r(t))}})},"678a":function(t,e,a){},7317:function(t,e,a){},"867f":function(t,e,a){"use strict";var l=a("16da"),r=a.n(l);r.a},d00f:function(t,e,a){"use strict";var l=a("678a"),r=a.n(l);r.a},dba1:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("example",{attrs:{title:"dataLayout 处理数据类型"}},[a("ul",{staticClass:"code-desc",attrs:{slot:"desc"},slot:"desc"},[a("li",[t._v("将"),a("b",[t._v("目标数据")]),t._v("还原成"),a("b",[t._v("自定义格式")])]),a("li",[t._v("通常用于接口数据格式不固定的情况")])]),a("code-view",{attrs:{slot:"code",type:"javascript",content:t.getdataLayoutDemo()},slot:"code"})],1),a("example",{attrs:{title:"clean 清空空值"}},[a("ul",{staticClass:"code-desc",attrs:{slot:"desc"},slot:"desc"},[a("li",[t._v("清空为 "),a("b",[t._v("null")]),t._v("、 "),a("b",[t._v("undefined")]),t._v("、"),a("b",[t._v("{}")]),t._v("、"),a("b",[t._v("[]")]),t._v(" 等空值")]),a("li",[t._v("保留了空字符串 "),a("b",[t._v('""')])])]),a("code-view",{attrs:{slot:"code",type:"javascript",content:t.getClearDemo()},slot:"code"})],1),a("example",{attrs:{title:"defaultType 强制转换类型"}}),a("example",{attrs:{title:"_Array 强制转换数组"}}),a("example",{attrs:{title:"_Function 强制转换方法"}}),a("example",{attrs:{title:"_Boolean 强制转换布尔值"}}),a("example",{attrs:{title:"_Number 强制转换数字"}}),a("example",{attrs:{title:"_String 强制转换字符串"}}),a("example",{attrs:{title:"_Object 强制转换json"}}),a("example",{attrs:{title:"_Url"}}),a("example",{attrs:{title:"_http"}}),a("example",{attrs:{title:"_https"}}),a("example",{attrs:{title:"symbolNumber"}}),a("example",{attrs:{title:"clone"}}),a("example",{attrs:{title:"fixed"}}),a("example",{attrs:{title:"getByClass"}}),a("example",{attrs:{title:"getById"}}),a("example",{attrs:{title:"getCookie"}}),a("example",{attrs:{title:"getQuery"}}),a("example",{attrs:{title:"getRandom"}}),a("example",{attrs:{title:"getType"}}),a("example",{attrs:{title:"hasClass"}}),a("example",{attrs:{title:"isArray"}}),a("example",{attrs:{title:"isEmpty"}}),a("example",{attrs:{title:"isNumber"}}),a("example",{attrs:{title:"isObject"}}),a("example",{attrs:{title:"prevent"}}),a("example",{attrs:{title:"removeClass"}}),a("example",{attrs:{title:"removeCookie"}}),a("example",{attrs:{title:"removeElement"}}),a("example",{attrs:{title:"setCookie"}}),a("example",{attrs:{title:"split"}}),a("example",{attrs:{title:"throttle"}}),a("example",{attrs:{title:"debounce"}}),a("example",{attrs:{title:"FunctionLoop"}}),a("example",{attrs:{title:"zero"}}),a("example",{attrs:{title:"ready"}}),a("example",{attrs:{title:"getJsPath"}}),a("example",{attrs:{title:"backTop"}}),a("example",{attrs:{title:"getImgSize"}}),a("example",{attrs:{title:"getUserFromIdCard"}}),a("example",{attrs:{title:"replaceCustom"}}),a("example",{attrs:{title:"assign"}}),a("example",{attrs:{title:"scrollToElement"}}),a("example",{attrs:{title:"scrollToBottom"}}),a("example",{attrs:{title:"setStorage"}}),a("example",{attrs:{title:"getStorage"}}),a("example",{attrs:{title:"removeStorage"}}),a("example",{attrs:{title:"CreateEventBus"}}),a("example",{attrs:{title:"getRandomArray"}}),a("example",{attrs:{title:"timeFormatToRecent"}}),a("example",{attrs:{title:"assembly"}}),a("example",{attrs:{title:"equal"}}),a("example",{attrs:{title:"reduceTime"}}),a("example",{attrs:{title:"shuffle"}}),a("example",{attrs:{title:"updateWebVersion"}}),a("example",{attrs:{title:"updateQuery"}}),a("example",{attrs:{title:"updateClass"}}),a("example",{attrs:{title:"$createStyle"}}),a("example",{attrs:{title:"write"}})],1)},r=[],n={methods:{getClearDemo:i,getdataLayoutDemo:s}};function i(){return"\n// => {}\nclean({}) \n\n// => []\nclean{[]} \n\n// => {name: \"张三\"}\nclean({ name: '张三', age: undefined })\n\n// => {list:[1]}\nclean({ list: [1], jobs: [{}] }) \n"}function s(){return"\nvar TYPE = {\n  data: {\n    list: [],\n    info: {}\n  }\n}  \n\nconst res = dataLayout(TYPE, 'your-data')\n"}var o=n,c=a("2877"),p=Object(c["a"])(o,l,r,!1,null,null,null);e["default"]=p.exports},ef6e:function(t,e,a){"use strict";var l=a("2a43"),r=a.n(l);r.a}}]);